---
import SectionTitle from "@/components/SectionTitle.astro";

export interface Props {
  userCount?: number;
  reviews?: {
    rating: number;
    score: string;
    text: string;
    author: string;
  }[];
}

// Default reviews in Indonesian
const defaultReviews = [
  {
    rating: 5,
    score: "5/5",
    text: "Aplikasi tracking islami terbaik! Fitur daily task dengan level pemula sangat membantu saya yang baru belajar istiqomah. Data tersimpan lokal jadi privasi terjaga.",
    author: "Ahmad S. - Jakarta",
  },
  {
    rating: 5,
    score: "5/5", 
    text: "Sangat membantu untuk muhasabah harian. Fitur daily deed untuk catat kebaikan dan keburukan membuat saya lebih aware dengan perbuatan sehari-hari.",
    author: "Siti R. - Bandung",
  },
  {
    rating: 5,
    score: "5/5",
    text: "Love the app lock feature! Sebagai yang sering pinjamkan HP, fitur kunci dengan pattern sangat berguna. Export PDF juga keren untuk dokumentasi.",
    author: "Muhammad F. - Surabaya",
  },
  {
    rating: 4,
    score: "4/5",
    text: "Aplikasi bagus untuk tracking amalan. Kalender Hijriyah sangat membantu. Tapi mungkin bisa ditambah lebih banyak variasi dzikir dan doa.",
    author: "Fatimah A. - Yogyakarta",
  },
  {
    rating: 5,
    score: "5/5",
    text: "Interface simple dan mudah digunakan. Paling suka fitur summary kekusyuan shalat, jadi bisa evaluasi kualitas ibadah. Offline feature juga mantap!",
    author: "Abdul M. - Medan",
  },
  {
    rating: 5,
    score: "5/5",
    text: "Tanpa registrasi langsung bisa pakai, sangat praktis! Level mahir di daily task cukup challenging. Remindernya juga tidak mengganggu aktivitas.",
    author: "Khadijah L. - Makassar",
  },
  {
    rating: 4,
    score: "4/5", 
    text: "Aplikasi lokal Indonesia yang berkualitas. Fitur tracking lengkap dan data privat. Semoga segera ada versi iOS ya, pengen pakai di iPhone.",
    author: "Usman H. - Palembang",
  },
  {
    rating: 5,
    score: "5/5",
    text: "Cocok banget buat yang ingin membangun habit islami. Progress tracking visual memotivasi untuk konsisten. Export monthly report juga berguna.",
    author: "Aisyah K. - Semarang",
  }
];
const {  reviews = defaultReviews } = Astro.props;
const shuffledReviews = [...reviews].sort(() => Math.random() - 0.5);
---
<section class="py-20">
  <!-- Section title -->
  <div class="text-center mb-12">
    <SectionTitle>
      Apa kata pengguna kami
    </SectionTitle>
  </div>

  <!-- Reviews grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    {shuffledReviews.map((review) => (
      <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300 flex flex-col h-full">
        
        <!-- Rating stars -->
        <div class="text-yellow-400 text-3xl mb-3 flex justify-center">
          {"★".repeat(review.rating)}
          {"☆".repeat(5 - review.rating)}
        </div>

        <!-- Platform -->
        <div class="text-center font-medium text-green-700 mb-3 text-sm">
          {review.score} di {review.author.split(" ").pop()}
        </div>

        <!-- Review Text -->
        <blockquote class="text-gray-700 mb-4 italic text-center flex-grow">
          "{review.text}"
        </blockquote>

        <!-- Author -->
        <cite class="text-gray-500 text-sm text-center mt-auto">
          — {review.author}
        </cite>

      </div>
    ))}
  </div>
</section>
